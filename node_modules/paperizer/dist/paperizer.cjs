"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("vue"),C=e=>{const t=c.ref(),l=window.document.getElementById(e);if(l)t.value=l;else throw new Error(`Element with id '${e}' was not found.`);return{selectedElement:t}},h=e=>{var m;const t="_blank",l=["fullscreen=yes","titlebar=yes","scrollbars=yes"],n=window.document.title,u=!0,a=!0,r=c.ref(""),s=c.ref(""),d=c.ref(""),o=c.ref(!0),i=c.ref(""),f=c.ref(!0),w=v=>v==null?void 0:v.filter(b=>b);return r.value=(e==null?void 0:e.target)||t,s.value=(m=w((e==null?void 0:e.features)||l))==null?void 0:m.join(","),d.value=(e==null?void 0:e.windowTitle)||n,o.value=(e==null?void 0:e.autoClose)??u,i.value=(e==null?void 0:e.bodyClass)??"",f.value=(e==null?void 0:e.autoPrint)??a,{target:r.value,features:s.value,windowTitle:d.value,autoClose:o.value,bodyClass:i.value,autoPrint:f.value}},g=()=>({attachStyles:(t,l=[])=>{l.length&&l.forEach(n=>{let u=t.document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("href",n),t.document.getElementsByTagName("head")[0].appendChild(u)})}}),T=(e,t)=>{const l=c.ref(),n=window.open("",e,t);return n&&(n.opener||(n.opener=self),n.focus(),l.value=n),{previewWindow:l}},W=()=>({writeWindowContent:(t,l,n)=>{t.document.write(`
      <html>
        <head>
          <title>${t.document.title}</title>
        </head>
        <body class="${n}">
          ${l.innerHTML}
        </body>
      </html>
    `)}}),y=(e,t,l=()=>{})=>{const n=a=>{const{target:r,features:s,windowTitle:d,autoClose:o,bodyClass:i,autoPrint:f}=h(a),{previewWindow:w}=T(r,s);return{defaultWindow:w.value,target:r,windowTitle:d,autoClose:o,bodyClass:i,autoPrint:f}};return{paperize:()=>{const{selectedElement:a}=C(e),{defaultWindow:r,target:s,windowTitle:d,autoClose:o,bodyClass:i,autoPrint:f}=n(t),{writeWindowContent:w}=W(),{attachStyles:m}=g();r&&a.value&&(r.document.title=d||document.title,w(r,a.value,i),m(r,t==null?void 0:t.styles),setTimeout(()=>{r.document.close(),r.focus(),f&&(r.print(),setTimeout(function(){s==="_blank"&&o&&r.close()},1)),l()},1e3))}}},P={install:e=>{const t=(l,n,u)=>{const{paperize:a}=y(l,n,u);a()};e.config.globalProperties.$paperize=t}};exports.default=P;exports.usePaperizer=y;
